{"ast":null,"code":"import _objectWithoutProperties from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState}from'react';import'./App.css';import Posts from'./Posts';import CreatePosts from'./createPosts';import LatestPost from'./latestPost';import Login from'./login';import Loader from\"./Loader\";import Post from\"./Post\";import Dashboard from\"./Dashboard\";import Profile from\"./Profile\";import{getCookie}from'./cookies';import{BrowserRouter as Router,Switch,Route,Link,Redirect,useHistory,useLocation}from\"react-router-dom\";var auth={isAuthenticated:false,authenticate:function authenticate(cb){if(getCookie('token')!==''){auth.isAuthenticated=true;}},signout:function signout(cb){auth.isAuthenticated=false;setTimeout(cb,100);}};function PrivateRoute(_ref){var ChildComponent=_ref.component,rest=_objectWithoutProperties(_ref,[\"component\"]);return/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{render:function render(props){return getCookie('token')!==''?/*#__PURE__*/React.createElement(ChildComponent,Object.assign({},props,rest)):/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/login\",state:{from:props.location}}});}}));}function App(){// const [loggedIn, setLoggedIn] = useState(false);\n// const tokenExists = getCookie('token') !== '';\n// const [route, setRoute] = useState('');\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"flexwrapper\"},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{exact:true,path:\"/\",render:function render(){return auth.isAuthenticated?/*#__PURE__*/React.createElement(Redirect,{to:\"/dashboard\"}):/*#__PURE__*/React.createElement(Redirect,{to:\"/login\"});}}),/*#__PURE__*/React.createElement(Route,{path:\"/login\"},/*#__PURE__*/React.createElement(Login,null)),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/dashboard\"},/*#__PURE__*/React.createElement(Dashboard,null)),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/profile/:id\",component:Profile}))));}export default App;","map":{"version":3,"sources":["/app/src/App.jsx"],"names":["React","useState","Posts","CreatePosts","LatestPost","Login","Loader","Post","Dashboard","Profile","getCookie","BrowserRouter","Router","Switch","Route","Link","Redirect","useHistory","useLocation","auth","isAuthenticated","authenticate","cb","signout","setTimeout","PrivateRoute","ChildComponent","component","rest","props","pathname","state","from","location","App"],"mappings":"+IAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,SAAT,KAA0B,WAA1B,CACA,OACIC,aAAa,GAAIC,CAAAA,MADrB,CAEIC,MAFJ,CAGIC,KAHJ,CAIIC,IAJJ,CAKIC,QALJ,CAMIC,UANJ,CAOIC,WAPJ,KAQO,kBARP,CAUA,GAAMC,CAAAA,IAAI,CAAG,CACTC,eAAe,CAAE,KADR,CAETC,YAFS,uBAEIC,EAFJ,CAEQ,CACb,GAAIZ,SAAS,CAAC,OAAD,CAAT,GAAuB,EAA3B,CAA+B,CAC3BS,IAAI,CAACC,eAAL,CAAuB,IAAvB,CACH,CACJ,CANQ,CAOTG,OAPS,kBAODD,EAPC,CAOG,CACRH,IAAI,CAACC,eAAL,CAAuB,KAAvB,CACAI,UAAU,CAACF,EAAD,CAAK,GAAL,CAAV,CACH,CAVQ,CAAb,CAaA,QAASG,CAAAA,YAAT,MAA8D,IAA3BC,CAAAA,cAA2B,MAAtCC,SAAsC,CAARC,IAAQ,8CAC1D,mBACI,oBAAC,KAAD,kBACQA,IADR,EAEI,MAAM,CAAE,gBAACC,KAAD,QACJnB,CAAAA,SAAS,CAAC,OAAD,CAAT,GAAuB,EAAvB,cACI,oBAAC,cAAD,kBAAoBmB,KAApB,CAA+BD,IAA/B,EADJ,cAGI,oBAAC,QAAD,EACI,EAAE,CAAE,CACAE,QAAQ,CAAE,QADV,CAEAC,KAAK,CAAE,CAAEC,IAAI,CAAEH,KAAK,CAACI,QAAd,CAFP,CADR,EAJA,EAFZ,GADJ,CAiBH,CAED,QAASC,CAAAA,GAAT,EAAe,CAEb;AACA;AACA;AAEA,mBACE,2BAAK,SAAS,CAAC,aAAf,eAQI,oBAAC,MAAD,mBACI,oBAAC,MAAD,mBACI,oBAAC,KAAD,EACI,KAAK,KADT,CAEI,IAAI,CAAC,GAFT,CAGI,MAAM,CAAE,iBAAM,CACV,MACIf,CAAAA,IAAI,CAACC,eAAL,cACI,oBAAC,QAAD,EAAU,EAAE,CAAC,YAAb,EADJ,cAEI,oBAAC,QAAD,EAAU,EAAE,CAAC,QAAb,EAHR,CAKH,CATL,EADJ,cAYI,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,eACI,oBAAC,KAAD,MADJ,CAZJ,cAeI,oBAAC,YAAD,EAAc,IAAI,CAAC,YAAnB,eACI,oBAAC,SAAD,MADJ,CAfJ,cAkBI,oBAAC,YAAD,EACI,IAAI,CAAC,cADT,CAEI,SAAS,CAAEX,OAFf,EAlBJ,CADJ,CARJ,CADF,CAoCD,CAED,cAAeyB,CAAAA,GAAf","sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\nimport Posts from './Posts';\nimport CreatePosts from './createPosts';\nimport LatestPost from './latestPost';\nimport Login from './login';\nimport Loader from \"./Loader\";\nimport Post from \"./Post\";\nimport Dashboard from \"./Dashboard\";\nimport Profile from \"./Profile\";\nimport { getCookie } from './cookies';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect,\n    useHistory,\n    useLocation\n} from \"react-router-dom\";\n\nconst auth = {\n    isAuthenticated: false,\n    authenticate(cb) {\n        if (getCookie('token') !== '') {\n            auth.isAuthenticated = true;\n        }\n    },\n    signout(cb) {\n        auth.isAuthenticated = false;\n        setTimeout(cb, 100);\n    }\n};\n\nfunction PrivateRoute({ component: ChildComponent, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={(props) =>\n                getCookie('token') !== '' ? (\n                    <ChildComponent {...props} {...rest}/>\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: props.location }\n                        }}\n                    />\n                )\n            }\n        />\n    );\n}\n\nfunction App() {\n\n  // const [loggedIn, setLoggedIn] = useState(false);\n  // const tokenExists = getCookie('token') !== '';\n  // const [route, setRoute] = useState('');\n\n  return (\n    <div className=\"flexwrapper\">\n     {/*<Loader />*/}\n     {/* <div>*/}\n     {/*     {!tokenExists && <Login onSuccessfulLogin={value => { setLoggedIn(value); setRoute('dashboard') }} />}*/}\n     {/*     {tokenExists && route === 'dashboard' && <Dashboard onProfileClick={() => setRoute('profile')}/>}*/}\n     {/*     {tokenExists && route === 'profile' && <Profile />}*/}\n     {/* </div>*/}\n\n        <Router>\n            <Switch>\n                <Route\n                    exact\n                    path=\"/\"\n                    render={() => {\n                        return (\n                            auth.isAuthenticated ?\n                                <Redirect to=\"/dashboard\" /> :\n                                <Redirect to=\"/login\" />\n                        );\n                    }}\n                />\n                <Route path=\"/login\">\n                    <Login />\n                </Route>\n                <PrivateRoute path=\"/dashboard\">\n                    <Dashboard />\n                </PrivateRoute>\n                <PrivateRoute\n                    path=\"/profile/:id\"\n                    component={Profile}\n                />\n            </Switch>\n        </Router>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}