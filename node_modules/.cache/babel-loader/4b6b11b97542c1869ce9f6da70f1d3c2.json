{"ast":null,"code":"var _jsxFileName = \"/Users/sakibur/projects/Personal Projects/test/graminsta/src/App.jsx\";\nimport React, { useState } from 'react';\nimport './App.css';\nimport Posts from './Posts';\nimport CreatePosts from './createPosts';\nimport LatestPost from './latestPost';\nimport Login from './login';\nimport Loader from \"./Loader\";\nimport Post from \"./Post\";\nimport Dashboard from \"./Dashboard\";\nimport Profile from \"./Profile\";\nimport { getCookie } from './cookies';\nimport { BrowserRouter as Router, Switch, Route, Link, Redirect, useHistory, useLocation } from \"react-router-dom\";\nconst auth = {\n  isAuthenticated: false,\n\n  authenticate(cb) {\n    if (getCookie('token') !== '') {\n      auth.isAuthenticated = true;\n    }\n  },\n\n  signout(cb) {\n    auth.isAuthenticated = false;\n    setTimeout(cb, 100);\n  }\n\n};\n\nfunction PrivateRoute({\n  children,\n  ...rest\n}) {\n  console.log(children);\n  return /*#__PURE__*/React.createElement(Route, Object.assign({}, rest, {\n    render: ({\n      location\n    }) => getCookie('token') !== '' ? children : /*#__PURE__*/React.createElement(Redirect, {\n      to: {\n        pathname: \"/login\",\n        state: {\n          from: location\n        }\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 21\n      }\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 9\n    }\n  }));\n}\n\nfunction App() {\n  // const [loggedIn, setLoggedIn] = useState(false);\n  // const tokenExists = getCookie('token') !== '';\n  // const [route, setRoute] = useState('');\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"flexwrapper\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Router, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Switch, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Route, {\n    exact: true,\n    path: \"/\",\n    render: () => {\n      return auth.isAuthenticated ? /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/dashboard\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 33\n        }\n      }) : /*#__PURE__*/React.createElement(Redirect, {\n        to: \"/login\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 33\n        }\n      });\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(Route, {\n    path: \"/login\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Login, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(PrivateRoute, {\n    path: \"/dashboard\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(Dashboard, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(PrivateRoute, {\n    exact: true,\n    path: \"/profile/:id\",\n    render: props => {\n      console.log('inside render');\n      console.log(props);\n      return /*#__PURE__*/React.createElement(Profile, Object.assign({}, props, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 54\n        }\n      }));\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }))));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/sakibur/projects/Personal Projects/test/graminsta/src/App.jsx"],"names":["React","useState","Posts","CreatePosts","LatestPost","Login","Loader","Post","Dashboard","Profile","getCookie","BrowserRouter","Router","Switch","Route","Link","Redirect","useHistory","useLocation","auth","isAuthenticated","authenticate","cb","signout","setTimeout","PrivateRoute","children","rest","console","log","location","pathname","state","from","App","props"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\nimport Posts from './Posts';\nimport CreatePosts from './createPosts';\nimport LatestPost from './latestPost';\nimport Login from './login';\nimport Loader from \"./Loader\";\nimport Post from \"./Post\";\nimport Dashboard from \"./Dashboard\";\nimport Profile from \"./Profile\";\nimport { getCookie } from './cookies';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect,\n    useHistory,\n    useLocation\n} from \"react-router-dom\";\n\nconst auth = {\n    isAuthenticated: false,\n    authenticate(cb) {\n        if (getCookie('token') !== '') {\n            auth.isAuthenticated = true;\n        }\n    },\n    signout(cb) {\n        auth.isAuthenticated = false;\n        setTimeout(cb, 100);\n    }\n};\n\nfunction PrivateRoute({ children, ...rest }) {\n    console.log(children);\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                getCookie('token') !== '' ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: location }\n                        }}\n                    />\n                )\n            }\n        />\n    );\n}\n\nfunction App() {\n\n  // const [loggedIn, setLoggedIn] = useState(false);\n  // const tokenExists = getCookie('token') !== '';\n  // const [route, setRoute] = useState('');\n\n  return (\n    <div className=\"flexwrapper\">\n     {/*<Loader />*/}\n     {/* <div>*/}\n     {/*     {!tokenExists && <Login onSuccessfulLogin={value => { setLoggedIn(value); setRoute('dashboard') }} />}*/}\n     {/*     {tokenExists && route === 'dashboard' && <Dashboard onProfileClick={() => setRoute('profile')}/>}*/}\n     {/*     {tokenExists && route === 'profile' && <Profile />}*/}\n     {/* </div>*/}\n\n        <Router>\n            <Switch>\n                <Route\n                    exact\n                    path=\"/\"\n                    render={() => {\n                        return (\n                            auth.isAuthenticated ?\n                                <Redirect to=\"/dashboard\" /> :\n                                <Redirect to=\"/login\" />\n                        );\n                    }}\n                />\n                <Route path=\"/login\">\n                    <Login />\n                </Route>\n                <PrivateRoute path=\"/dashboard\">\n                    <Dashboard />\n                </PrivateRoute>\n                <PrivateRoute\n                    exact\n                    path=\"/profile/:id\"\n                    render={(props) => {\n                        console.log('inside render');\n                        console.log(props); return ( <Profile {...props}/>);}}\n                />\n            </Switch>\n        </Router>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}