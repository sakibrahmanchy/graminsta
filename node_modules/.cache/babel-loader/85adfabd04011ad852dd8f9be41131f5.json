{"ast":null,"code":"import _objectWithoutProperties from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";import React,{useState}from'react';import'./App.css';import Posts from'./Posts';import CreatePosts from'./createPosts';import LatestPost from'./latestPost';import Login from'./login';import Loader from\"./Loader\";import Post from\"./Post\";import Dashboard from\"./Dashboard\";import Profile from\"./Profile\";import{getCookie}from'./cookies';import{BrowserRouter as Router,Switch,Route,Link,Redirect,useHistory,useLocation}from\"react-router-dom\";var auth={isAuthenticated:false,authenticate:function authenticate(cb){if(getCookie('token')!==''){auth.isAuthenticated=true;}},signout:function signout(cb){auth.isAuthenticated=false;setTimeout(cb,100);}};function PrivateRoute(_ref){var children=_ref.children,rest=_objectWithoutProperties(_ref,[\"children\"]);return/*#__PURE__*/React.createElement(Route,Object.assign({},rest,{render:function render(_ref2){var location=_ref2.location;return auth.isAuthenticated?children:/*#__PURE__*/React.createElement(Redirect,{to:{pathname:\"/login\",state:{from:location}}});}}));}function App(){// const [loggedIn, setLoggedIn] = useState(false);\n// const tokenExists = getCookie('token') !== '';\n// const [route, setRoute] = useState('');\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"flexwrapper\"},/*#__PURE__*/React.createElement(Router,null,/*#__PURE__*/React.createElement(Switch,null,/*#__PURE__*/React.createElement(Route,{path:\"/login\"},/*#__PURE__*/React.createElement(Login,null)),/*#__PURE__*/React.createElement(PrivateRoute,{path:\"/protected\"},/*#__PURE__*/React.createElement(Dashboard,null)))));}export default App;","map":{"version":3,"sources":["/app/src/App.jsx"],"names":["React","useState","Posts","CreatePosts","LatestPost","Login","Loader","Post","Dashboard","Profile","getCookie","BrowserRouter","Router","Switch","Route","Link","Redirect","useHistory","useLocation","auth","isAuthenticated","authenticate","cb","signout","setTimeout","PrivateRoute","children","rest","location","pathname","state","from","App"],"mappings":"+IAAA,MAAOA,CAAAA,KAAP,EAAeC,QAAf,KAA8B,OAA9B,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,WAAP,KAAwB,eAAxB,CACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,SAAlB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,CACA,MAAOC,CAAAA,IAAP,KAAiB,QAAjB,CACA,MAAOC,CAAAA,SAAP,KAAsB,aAAtB,CACA,MAAOC,CAAAA,OAAP,KAAoB,WAApB,CACA,OAASC,SAAT,KAA0B,WAA1B,CACA,OACIC,aAAa,GAAIC,CAAAA,MADrB,CAEIC,MAFJ,CAGIC,KAHJ,CAIIC,IAJJ,CAKIC,QALJ,CAMIC,UANJ,CAOIC,WAPJ,KAQO,kBARP,CAUA,GAAMC,CAAAA,IAAI,CAAG,CACTC,eAAe,CAAE,KADR,CAETC,YAFS,uBAEIC,EAFJ,CAEQ,CACb,GAAIZ,SAAS,CAAC,OAAD,CAAT,GAAuB,EAA3B,CAA+B,CAC3BS,IAAI,CAACC,eAAL,CAAuB,IAAvB,CACH,CACJ,CANQ,CAOTG,OAPS,kBAODD,EAPC,CAOG,CACRH,IAAI,CAACC,eAAL,CAAuB,KAAvB,CACAI,UAAU,CAACF,EAAD,CAAK,GAAL,CAAV,CACH,CAVQ,CAAb,CAaA,QAASG,CAAAA,YAAT,MAA6C,IAArBC,CAAAA,QAAqB,MAArBA,QAAqB,CAARC,IAAQ,6CACzC,mBACI,oBAAC,KAAD,kBACQA,IADR,EAEI,MAAM,CAAE,0BAAGC,CAAAA,QAAH,OAAGA,QAAH,OACJT,CAAAA,IAAI,CAACC,eAAL,CACIM,QADJ,cAGI,oBAAC,QAAD,EACI,EAAE,CAAE,CACAG,QAAQ,CAAE,QADV,CAEAC,KAAK,CAAE,CAAEC,IAAI,CAAEH,QAAR,CAFP,CADR,EAJA,EAFZ,GADJ,CAiBH,CAED,QAASI,CAAAA,GAAT,EAAe,CAEb;AACA;AACA;AAEA,mBACE,2BAAK,SAAS,CAAC,aAAf,eAQI,oBAAC,MAAD,mBACI,oBAAC,MAAD,mBACI,oBAAC,KAAD,EAAO,IAAI,CAAC,QAAZ,eACI,oBAAC,KAAD,MADJ,CADJ,cAII,oBAAC,YAAD,EAAc,IAAI,CAAC,YAAnB,eACI,oBAAC,SAAD,MADJ,CAJJ,CADJ,CARJ,CADF,CAqBD,CAED,cAAeA,CAAAA,GAAf","sourcesContent":["import React, {useState} from 'react';\nimport './App.css';\nimport Posts from './Posts';\nimport CreatePosts from './createPosts';\nimport LatestPost from './latestPost';\nimport Login from './login';\nimport Loader from \"./Loader\";\nimport Post from \"./Post\";\nimport Dashboard from \"./Dashboard\";\nimport Profile from \"./Profile\";\nimport { getCookie } from './cookies';\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n    Link,\n    Redirect,\n    useHistory,\n    useLocation\n} from \"react-router-dom\";\n\nconst auth = {\n    isAuthenticated: false,\n    authenticate(cb) {\n        if (getCookie('token') !== '') {\n            auth.isAuthenticated = true;\n        }\n    },\n    signout(cb) {\n        auth.isAuthenticated = false;\n        setTimeout(cb, 100);\n    }\n};\n\nfunction PrivateRoute({ children, ...rest }) {\n    return (\n        <Route\n            {...rest}\n            render={({ location }) =>\n                auth.isAuthenticated ? (\n                    children\n                ) : (\n                    <Redirect\n                        to={{\n                            pathname: \"/login\",\n                            state: { from: location }\n                        }}\n                    />\n                )\n            }\n        />\n    );\n}\n\nfunction App() {\n\n  // const [loggedIn, setLoggedIn] = useState(false);\n  // const tokenExists = getCookie('token') !== '';\n  // const [route, setRoute] = useState('');\n\n  return (\n    <div className=\"flexwrapper\">\n     {/*<Loader />*/}\n     {/* <div>*/}\n     {/*     {!tokenExists && <Login onSuccessfulLogin={value => { setLoggedIn(value); setRoute('dashboard') }} />}*/}\n     {/*     {tokenExists && route === 'dashboard' && <Dashboard onProfileClick={() => setRoute('profile')}/>}*/}\n     {/*     {tokenExists && route === 'profile' && <Profile />}*/}\n     {/* </div>*/}\n\n        <Router>\n            <Switch>\n                <Route path=\"/login\">\n                    <Login />\n                </Route>\n                <PrivateRoute path=\"/protected\">\n                    <Dashboard />\n                </PrivateRoute>\n            </Switch>\n        </Router>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}