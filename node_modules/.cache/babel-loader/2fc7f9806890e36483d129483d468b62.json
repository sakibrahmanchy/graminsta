{"ast":null,"code":"import _regeneratorRuntime from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import{makeStyles}from'@material-ui/core/styles';import AppBar from'@material-ui/core/AppBar';import Toolbar from'@material-ui/core/Toolbar';import Typography from'@material-ui/core/Typography';import Button from'@material-ui/core/Button';import GridList from'@material-ui/core/GridList';import GridListTile from'@material-ui/core/GridListTile';import Post from'./Post';import{getCookie}from'./cookies';import LinearProgress from'@material-ui/core/LinearProgress';var useStyles=makeStyles(function(theme){return{root:{display:'flex',flexWrap:'wrap',justifyContent:'space-around',overflow:'hidden',backgroundColor:theme.palette.background.paper},gridList:{width:500}};});export default function Profile(){var classes=useStyles();var _useState=useState(null),_useState2=_slicedToArray(_useState,2),data=_useState2[0],setData=_useState2[1];var _useState3=useState(true),_useState4=_slicedToArray(_useState3,2),isBusy=_useState4[0],setBusy=_useState4[1];useEffect(function(){setBusy(true);function fetchData(){return _fetchData.apply(this,arguments);}function _fetchData(){_fetchData=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var url;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:url='http://localhost:8078/posts';fetch(url,{method:'get',headers:new Headers({'Authorization':\"Basic \".concat(getCookie('token')),'Content-Type':'application/json'})}).then(function(res){return res.json();}).then(function(response){console.log(response);setBusy(false);setData(response);}).catch(function(){setBusy(false);setData(null);});case 2:case\"end\":return _context.stop();}}},_callee);}));return _fetchData.apply(this,arguments);}fetchData();},[]);return/*#__PURE__*/React.createElement(\"div\",{className:classes.root},/*#__PURE__*/React.createElement(AppBar,{position:\"fixed\",color:\"white\"},/*#__PURE__*/React.createElement(Toolbar,null,/*#__PURE__*/React.createElement(Typography,{variant:\"h4\"},/*#__PURE__*/React.createElement(\"span\",{className:\"curl-fonts\"},\"GramInsta\")),/*#__PURE__*/React.createElement(Button,{color:\"inherit\"},\"Login\"))),/*#__PURE__*/React.createElement(\"div\",{className:classes.root,style:{marginTop:'3%'}},isBusy&&/*#__PURE__*/React.createElement(LinearProgress,{color:\"secondary\",style:{marginTop:'3%',height:'2rem'}}),!isBusy&&data&&Array.isArray(data)&&/*#__PURE__*/React.createElement(GridList,{cellHeight:160,className:classes.gridList,cols:3},data&&data.map(function(_ref){var photos=_ref.photos,content=_ref.content,name=_ref.user.name;var _photos=_slicedToArray(photos,1),thumbUrl=_photos[0].thumbUrl;return/*#__PURE__*/React.createElement(GridListTile,{key:thumbUrl,cols:1},/*#__PURE__*/React.createElement(\"img\",{src:thumbUrl,alt:content}));}))));}","map":{"version":3,"sources":["/app/src/Profile.jsx"],"names":["React","useState","useEffect","makeStyles","AppBar","Toolbar","Typography","Button","GridList","GridListTile","Post","getCookie","LinearProgress","useStyles","theme","root","display","flexWrap","justifyContent","overflow","backgroundColor","palette","background","paper","gridList","width","Profile","classes","data","setData","isBusy","setBusy","fetchData","url","fetch","method","headers","Headers","then","res","json","response","console","log","catch","marginTop","height","Array","isArray","map","photos","content","name","user","thumbUrl"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from '@material-ui/core/Button';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport Post from './Post';\nimport { getCookie } from './cookies'\n\nimport LinearProgress from '@material-ui/core/LinearProgress';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n        display: 'flex',\n        flexWrap: 'wrap',\n        justifyContent: 'space-around',\n        overflow: 'hidden',\n        backgroundColor: theme.palette.background.paper,\n    },\n    gridList: {\n        width: 500,\n    },\n}));\n\nexport default function Profile() {\n    const classes = useStyles();\n\n\n    const [data, setData] = useState(null);\n    const [isBusy, setBusy] = useState(true)\n\n    useEffect(() => {\n        setBusy(true);\n        async function fetchData() {\n            const url = 'http://localhost:8078/posts';\n\n            fetch(url, {\n                method: 'get',\n                headers: new Headers({\n                    'Authorization': `Basic ${getCookie('token')}`,\n                    'Content-Type': 'application/json'\n                }),\n            }).then(res => res.json()).then((response) => {\n                console.log(response);\n                setBusy(false);\n                setData(response);\n            }).catch(() => {\n                setBusy(false);\n                setData(null);\n            });\n        }\n\n        fetchData();\n    }, [])\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"fixed\" color=\"white\">\n                <Toolbar>\n                    <Typography variant=\"h4\">\n                        <span className=\"curl-fonts\">GramInsta</span>\n                    </Typography>\n                    <Button color=\"inherit\">Login</Button>\n                </Toolbar>\n            </AppBar>\n            <div className={classes.root} style={{ marginTop: '3%' }}>\n                {isBusy && <LinearProgress color=\"secondary\" style={{ marginTop: '3%', height: '2rem' }}/>}\n                {!isBusy && data && Array.isArray(data) && <GridList cellHeight={160} className={classes.gridList} cols={3}>\n                    {data && data.map(({ photos, content, user: { name }}) => {\n                        const [{thumbUrl}] = photos;\n                        return (\n                            <GridListTile key={thumbUrl} cols={1}>\n                                <img src={thumbUrl} alt={content}/>\n                            </GridListTile>\n                        );\n                    })}\n                </GridList>}\n            </div>\n            {/*{isBusy && <LinearProgress color=\"secondary\" style={{ marginTop: '3%', height: '2rem' }}/>}*/}\n            {/*{!isBusy && data && Array.isArray(data) && <div>*/}\n            {/*    {data && data.map(({ photos, content, user: { name } })=> {*/}\n            {/*        console.log(content);*/}\n            {/*        const [{ thumbUrl }] = photos;*/}\n            {/*        console.log(thumbUrl);*/}\n            {/*        // eslint-disable-next-line no-unused-expressions*/}\n            {/*        return <Post image={thumbUrl} content={content} userName={name}/>*/}\n            {/*    })}*/}\n            {/*</div>}*/}\n        </div>\n    );\n}\n"]},"metadata":{},"sourceType":"module"}